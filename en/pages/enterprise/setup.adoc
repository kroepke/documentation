[[setup]]
Setup
-----

Graylog Enterprise comes as a set of Graylog server plugins which need
to be installed in addition to the Graylog open source setup.

[[requirements]]
Requirements
~~~~~~~~~~~~

The following list shows the minimum required Graylog versions for the
Graylog Enterprise plugins.

[[installation]]
Installation
~~~~~~~~~~~~

Once you https://www.graylog.org/enterprise/order[purchase a license for
Graylog Enterprise], you will get download links for the tarballs and
DEB/RPM packages in the confirmation mail.

______________________________________________________________________________
*note*

The Graylog Enterprise plugins need to be installed on all your Graylog
nodes!
______________________________________________________________________________

[[tarball]]
Tarball
^^^^^^^

The tarball includes the enterprise plugin JAR files.

....
$ tar -tzf graylog-enterprise-plugins-1.0.0.tgz
graylog-enterprise-plugins-1.0.0/plugin/graylog-plugin-archive-1.0.0.jar
graylog-enterprise-plugins-1.0.0/plugin/graylog-plugin-license-1.0.0.jar
....

Depending on the Graylog setup method you have used, you have to install
the plugins into different locations.

Also check the `plugin_dir` config option in your Graylog server
configuration file. The default might have been changed.

Make sure to install the enterprise plugin JAR files alongside the other
Graylog plugins. Your plugin directory should look similar to this after
installing the enterprise plugins.

....
plugin/
├── graylog-plugin-archive-1.0.0.jar
├── graylog-plugin-collector-1.0.2.jar
├── graylog-plugin-enterprise-integration-1.0.2.jar
├── graylog-plugin-license-1.0.0.jar
├── graylog-plugin-map-widget-1.0.2.jar
├── graylog-plugin-pipeline-processor-1.0.0-beta.4.jar
└── usage-statistics-2.0.2.jar
....

[[deb-rpm-package]]
DEB / RPM Package
^^^^^^^^^^^^^^^^^

We also provide DEB and RPM packages for the enterprise plugins.

___________________________________________________________________________________________________________________
*note*

These packages can *only* be used when you installed Graylog via the
/pages/installation/operating_system_packages!
___________________________________________________________________________________________________________________

[[deb]]
DEB
+++

Use the following command to install the plugins via dpkg.

....
$ sudo dpkg -i graylog-enterprise-plugins-1.0.0.deb
....

[[rpm]]
RPM
+++

Use the following command to install the plugins via rpm.

....
$ sudo rpm -Uvh graylog-enterprise-plugins-1.0.0-1.noarch.rpm
....

[[server-restart]]
Server Restart
~~~~~~~~~~~~~~

After you installed the Graylog Enterprise plugins you have to restart
each of your Graylog servers to load the plugins.

_____________________________________________
*note*

We recommend restarting one server at a time!
_____________________________________________

You should see something like the following in your Graylog server logs.
It indicates that the plugins have been successfully loaded.

....
2016-05-30 12:06:34,606 INFO : org.graylog2.bootstrap.CmdLineTool - Loaded plugin: ArchivePlugin 1.0.0 [org.graylog.plugins.archive.ArchivePlugin]
2016-05-30 12:06:34,607 INFO : org.graylog2.bootstrap.CmdLineTool - Loaded plugin: License Plugin 1.0.0 [org.graylog.plugins.license.LicensePlugin]
....

[[license-installation]]
License Installation
~~~~~~~~~~~~~~~~~~~~

The Graylog Enterprise plugins require a valid license to use the
additional features.

Once you have https://www.graylog.org/enterprise/order[purchased a
license] you can import it into your Graylog setup by going through the
following steps.

1.  As an admin user, open the System/License page from the menu in the
web interface.
2.  Click the Import new license button in the top right hand corner.
3.  Copy the license text from the confirmation email and paste it into
the text field.
4.  The license should be valid and a preview of your license details
should appear below the text field.
5.  Click Import to activate the license.

The license automatically applies to all nodes in your cluster without
the need to restart your server nodes.

__________________________________________________________________________________________________________
*note*

If there are errors, please check that you copied the entire license
from the email without line breaks.::
  The same license is also attached as a text file in case it is wrongly
  formatted in the email.
__________________________________________________________________________________________________________

image:/images/enterprise-license-1.png[image]
